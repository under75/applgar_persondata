<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
	<div class="card" th:fragment="Person">
		<div class="card-header">
			<button
				th:text="${resultTypes.get(T(ru.tfoms.applgar.service.PersDataService.Show).Person)}"
				class="btn btn-link" data-toggle="collapse"
				data-target="#collapsePerson" aria-expanded="false"
				aria-controls="collapsePerson"></button>
		</div>
		<div id="collapsePerson" class="collapse" aria-labelledby="headingOne"
			data-parent="#accordion">
			<div class="card-body">
				<table class="table table-sm" th:if="${persons.size > 0}">
					<thead>
						<tr class="small">
							<th>Фамилия</th>
							<th>Имя</th>
							<th>Отчество</th>
							<th>Дата рождения</th>
							<th>Пол</th>
							<th>Страна рождения</th>
							<th>Дата смерти</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="person : ${persons}" class='small'>
							<td th:text="${person.lastName}" />
							<td th:text="${person.firstName}" />
							<td th:text="${person.patronymic}" />
							<td th:text="${#dates.format(person.birthDay, 'dd.MM.yyyy')}" />
							<td th:text="${person.gender}" />
							<td
								th:text="${person.birthOksm != null ? person.birthOksm.name2 : ''}" />
							<td align="center"
								th:text="${#dates.format(person.deathDate, 'dd.MM.yyyy')}" />
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
	<div class="card" th:fragment="OmsPolicy">
		<div class="card-header">
			<button
				th:text="${resultTypes.get(T(ru.tfoms.applgar.service.PersDataService.Show).OmsPolicy)}"
				class="btn btn-link" data-toggle="collapse"
				data-target="#collapsePolicy" aria-expanded="false"
				aria-controls="collapsePolicy"></button>
		</div>
		<div id="collapsePolicy" class="collapse" aria-labelledby="headingOne"
			data-parent="#accordion">
			<div class="card-body">
				<div class="row" th:if="${policies.size > 0}"
					th:each="policy : ${policies}">

					<div class="col-4">Полис(старого образца)</div>
					<div class="col-8"
						th:text="${policy.pcySer != null ? policy.pcySer : ''} + ' ' + ${policy.pcyNum != null ? policy.pcyNum : ''}"></div>

					<div class="col-4 bg-light">ЕНП расчетный</div>
					<div class="col-8 bg-light" th:text="${policy.enpCalc}"></div>

					<div class="col-4">ЕНП (нового образца)</div>
					<div class="col-8" th:text="${policy.enp}"></div>

					<div class="col-4 bg-light">Дата начала действия полиса</div>
					<div class="col-8 bg-light"
						th:text="${#dates.format(policy.pcyDateB, 'dd.MM.yyyy')}"></div>

					<div class="col-4">Дата окончания действия полиса</div>
					<div class="col-8"
						th:text="${#dates.format(policy.pcyDateE, 'dd.MM.yyyy')}"></div>

					<div class="col-4 bg-light">Дата выдачи полиса на руки</div>
					<div class="col-8 bg-light"
						th:text="${#dates.format(policy.pcyDateH, 'dd.MM.yyyy')}"></div>

					<div class="col-4">Дата обращения за полисом</div>
					<div class="col-8"
						th:text="${#dates.format(policy.pcyDateT, 'dd.MM.yyyy')}"></div>

					<div class="col-4 bg-light">Дата расчёта номера ЕНП</div>
					<div class="col-8 bg-light"
						th:text="${#dates.format(policy.pcyDateEnpCalc, 'dd.MM.yyyy')}"></div>

					<div class="col-4">Дата изготовления полиса</div>
					<div class="col-8"
						th:text="${#dates.format(policy.pcyDatePr, 'dd.MM.yyyy')}"></div>

					<div class="col-4 bg-light">Тип полиса страхования</div>
					<div class="col-8 bg-light" th:text="${policy.pcyType}"></div>

					<div class="col-4">Статус полиса</div>
					<div class="col-8" th:text="${policy.pcyStatus}"></div>

					<div class="col-4 bg-light">ОКАТО территории страхования</div>
					<div class="col-8 bg-light"
						th:text="${policy.okato != null ? policy.okato.title : ''}"></div>

					<div class="col-4">Источник данных</div>
					<div class="col-8"
						th:text="${policy.dsource != null ? policy.dsource.title : policy.dsourceStr}"></div>

					<div class="col-4 bg-light">Вид источника данных</div>
					<div class="col-8 bg-light" th:text="${policy.dsourceType}"></div>

					<div class="col-4">Описание</div>
					<div class="col-8" th:text="${policy.descr}"></div>

					<div class="col-4 bg-light">Половая принадлежность</div>
					<div class="col-8 bg-light"
						th:text="${policy.gender == 1 ? 'М' : 'Ж'}"></div>

					<div class="col-4">Официальная СМО</div>
					<div class="col-8" th:text="${policy.insurName}"></div>

					<div class="col-4 bg-light">Фактическая СМО</div>
					<div class="col-8 bg-light" th:text="${policy.insurfName}"></div>

					<div class="col-4">ОГРН официальной СМО</div>
					<div class="col-8" th:text="${policy.insurOgrn}"></div>

					<div class="col-4 bg-light">ОГРН фактической СМО</div>
					<div class="col-8 bg-light" th:text="${policy.insurfOgrn}"></div>

					<div class="col-4">Код официальной СМО</div>
					<div class="col-8" th:text="${policy.insurCode}"></div>

					<div class="col-4 bg-light">Код фактической СМО</div>
					<div class="col-8 bg-light" th:text="${policy.insurfCode}"></div>

					<div class="col-4">Дата начала работы с ЗЛ</div>
					<div class="col-8"
						th:text="${#dates.format(policy.insurfDate, 'dd.MM.yyyy')}"></div>

					<div class="col-4 bg-light">Номер временного свидет-ва</div>
					<div class="col-8 bg-light" th:text="${policy.tmpcertNum}"></div>

					<div class="col-4">Дата начала действия ВС</div>
					<div class="col-8"
						th:text="${#dates.format(policy.tmpcertDateB, 'dd.MM.yyyy')}"></div>

					<div class="col-4 bg-light">Дата окончания действия ВС</div>
					<div class="col-8 bg-light"
						th:text="${#dates.format(policy.tmpcertDateE, 'dd.MM.yyyy')}"></div>

					<div class="col-4">Номер универсал. элек. карты</div>
					<div class="col-8" th:text="${policy.uekNum}"></div>

					<div class="col-4 bg-light">Категория ЗЛ</div>
					<div class="col-8 bg-light"
						th:text="${policy.pcyCategory != null ? policy.pcyCategory.name : ''}"></div>

					<div class="col-4">Номер бланка полиса</div>
					<div class="col-8" th:text="${policy.blankNum}"></div>
				</div>
			</div>
		</div>
	</div>
	<div class="card" th:fragment="Dudl">
		<div class="card-header">
			<button
				th:text="${resultTypes.get(T(ru.tfoms.applgar.service.PersDataService.Show).Dudl)}"
				class="btn btn-link" data-toggle="collapse"
				data-target="#collapseDudl" aria-expanded="false"
				aria-controls="collapseDudl"></button>
		</div>
		<div id="collapseDudl" class="collapse" aria-labelledby="headingOne"
			data-parent="#accordion">
			<div class="card-body">
				<div class="row" th:if="${dudls.size > 0}" th:each="dudl : ${dudls}">
					<div class="col-4">Cерия ДУДЛ</div>
					<div class="col-8" th:text="${dudl.dudlSer}"></div>

					<div class="col-4 bg-light">№ ДУДЛ</div>
					<div class="col-8 bg-light" th:text="${dudl.dudlNum}"></div>

					<div class="col-4">Дата начала действия</div>
					<div class="col-8"
						th:text="${#dates.format(dudl.dudlDateB, 'dd.MM.yyyy')}"></div>

					<div class="col-4 bg-light">Дата окончания действия</div>
					<div class="col-8 bg-light"
						th:text="${#dates.format(dudl.dudlDateE, 'dd.MM.yyyy')}"></div>

					<div class="col-4">Тип ДУДЛ</div>
					<div class="col-8"
						th:text="${dudl.dudlType != null ? dudl.dudlType.docName : dudl.dudlTypeStr}"></div>

					<div class="col-4 bg-light">Кем выдан</div>
					<div class="col-8 bg-light" th:text="${dudl.issuer}"></div>

					<div class="col-4">Код страны выдачи</div>
					<div class="col-8"
						th:text="${dudl.issuerOksm != null ? dudl.issuerOksm.name2 : ''}"></div>

					<div class="col-4 bg-light">Гражданство</div>
					<div class="col-8 bg-light"
						th:text="${dudl.ctznOksm != null ? dudl.ctznOksm.name2 : ''}"></div>

					<div class="col-4">Признак отсутствия гражданства</div>
					<div class="col-8" th:text="${dudl.noCitizenship}"></div>

					<div class="col-4 bg-light">Источник данных</div>
					<div class="col-8 bg-light"
						th:text="${dudl.dsource != null ? dudl.dsource.title : dudl.dsourceStr}"></div>

					<div class="col-4">Описание</div>
					<div class="col-8" th:text="${dudl.descr}"></div>

					<div class="col-4 bg-light">Место рождения</div>
					<div class="col-8 bg-light" th:text="${dudl.birthPlace}"></div>

					<div class="col-4">Вид источника</div>
					<div class="col-8" th:text="${dudl.dsourceType}"></div>

					<div class="col-4 bg-light">Страна рождения</div>
					<div class="col-8 bg-light"
						th:text="${dudl.birthOksm != null ? dudl.birthOksm.name2 : ''}"></div>

					<div class="col-4">Статус ДУДЛ</div>
					<div class="col-8" th:text="${dudl.dudlStatus}"></div>

					<div class="col-4 bg-light">Коды надежности идентификации</div>
					<div class="col-8 bg-light" th:text="${dudl.dost}"></div>
				</div>
			</div>
		</div>
	</div>
	<div class="card" th:fragment="Address">
		<div class="card-header">
			<button
				th:text="${resultTypes.get(T(ru.tfoms.applgar.service.PersDataService.Show).Address)}"
				class="btn btn-link" data-toggle="collapse"
				data-target="#collapseAddress" aria-expanded="false"
				aria-controls="collapseAddress"></button>
		</div>
		<div id="collapseAddress" class="collapse"
			aria-labelledby="headingOne" data-parent="#accordion">
			<div class="card-body">
				<div class="row" th:if="${addresses.size > 0}"
					th:each="address : ${addresses}">
					<div class="col-4">ОКАТО</div>
					<div class="col-8"
						th:text="${address.okato != null ? address.okato.title : ''}"></div>

					<div class="col-4 bg-light">ОКСМ</div>
					<div class="col-8 bg-light"
						th:text="${address.oksm != null ? address.oksm.name2 : ''}"></div>

					<div class="col-4">Улица</div>
					<div class="col-8"
						th:text="${address.aoguid != null && streets.get(address.nr) != null ? streets.get(address.nr).toString() : ''}"></div>

					<div class="col-4 bg-light">Дом</div>
					<div class="col-8 bg-light"
						th:text="${address.hsguid != null && houses.get(address.nr) != null ? houses.get(address.nr).toString() : ''}"></div>

					<div class="col-4">Адрес</div>
					<div class="col-8" th:text="${address.addressText}"></div>

					<div class="col-4 bg-light">Индекс</div>
					<div class="col-8 bg-light" th:text="${address.mailIndex}"></div>

					<div class="col-4">Квартира</div>
					<div class="col-8" th:text="${address.appNum}"></div>

					<div class="col-4 bg-light">Вид источника</div>
					<div class="col-8 bg-light" th:text="${address.dsourceType}"></div>

					<div class="col-4">Источник данных</div>
					<div class="col-8"
						th:text="${address.dsource != null ? address.dsource.title : address.dsourceStr}"></div>

					<div class="col-4 bg-light">Тип адреса</div>
					<div class="col-8 bg-light" th:text="${address.addressType}"></div>

					<div class="col-4">Начало действия</div>
					<div class="col-8"
						th:text="${#dates.format(address.addressDateB, 'dd.MM.yyyy')}"></div>

					<div class="col-4 bg-light">Конец действия</div>
					<div class="col-8 bg-light"
						th:text="${#dates.format(address.addressDateE, 'dd.MM.yyyy')}"></div>
				</div>
			</div>
		</div>
	</div>
	<div class="card" th:fragment="Attach">
		<div class="card-header">
			<button
				th:text="${resultTypes.get(T(ru.tfoms.applgar.service.PersDataService.Show).Attach)}"
				class="btn btn-link" data-toggle="collapse"
				data-target="#collapseAttach" aria-expanded="false"
				aria-controls="collapseAttach"></button>
		</div>
		<div id="collapseAttach" class="collapse" aria-labelledby="headingOne"
			data-parent="#accordion">
			<div class="card-body">
				<div class="row" th:if="${attaches.size > 0}"
					th:each="attach : ${attaches}">
					<div class="col-4">Код типа участка</div>
					<div class="col-8" th:text="${attach.areaType}"></div>

					<div class="col-4 bg-light">ИД участка МО</div>
					<div class="col-8 bg-light" th:text="${attach.areaId}"></div>

					<div class="col-4">Способ прикрепления</div>
					<div class="col-8" th:text="${attach.attachMethod}"></div>

					<div class="col-4 bg-light">Метка прикрепления</div>
					<div class="col-8 bg-light" th:text="${{attach.mCapitation}"></div>

					<div class="col-4">Дата начала прикрепления</div>
					<div class="col-8"
						th:text="${#dates.format(attach.dateAttachB, 'dd.MM.yyyy')}"></div>

					<div class="col-4 bg-light">Дата окончания прикрепления</div>
					<div class="col-8 bg-light"
						th:text="${#dates.format(attach.dateAttachE, 'dd.MM.yyyy')}"></div>

					<div class="col-4">Идентификатор МО</div>
					<div class="col-8" th:text="${attach.moId}"></div>

					<div class="col-4 bg-light">Код МО в реестре ОМС</div>
					<div class="col-8 bg-light"
						th:text="${attach.lpu != null ? attach.lpu.title : attach.mocode}"></div>

					<div class="col-4">Идентификатор филиала МО</div>
					<div class="col-8" th:text="${attach.moFId}"></div>

					<div class="col-4 bg-light">СНИЛС врача</div>
					<div class="col-8 bg-light" th:text="${attach.snilsDoctor}"></div>

					<div class="col-4">ИД участкового врача МО</div>
					<div class="col-8" th:text="${attach.doctorId}"></div>

					<div class="col-4 bg-light">Фактическая дата прикрепления к
						врачу</div>
					<div class="col-8 bg-light"
						th:text="${#dates.format(attach.doctorSince, 'dd.MM.yyyy')}"></div>

					<div class="col-4">Описание</div>
					<div class="col-8" th:text="${attach.descr}"></div>

					<div class="col-4 bg-light">ОКАТО территории мед. организации</div>
					<div class="col-8 bg-light" th:text="${attach.moOkato}"></div>

					<div class="col-4">Статус прикрепления</div>
					<div class="col-8" th:text="${attach.attachStatus}"></div>

					<div class="col-4 bg-light">Источник данных</div>
					<div class="col-8 bg-light"
						th:text="${attach.dsource != null ? attach.dsource.title : attach.dsourceStr}"></div>

					<div class="col-4">Вид источника</div>
					<div class="col-8" th:text="${attach.dsourceType}"></div>
				</div>
			</div>
		</div>
	</div>
	<div class="card" th:fragment="Contact">
		<div class="card-header">
			<button
				th:text="${resultTypes.get(T(ru.tfoms.applgar.service.PersDataService.Show).Contact)}"
				class="btn btn-link" data-toggle="collapse"
				data-target="#collapseContact" aria-expanded="false"
				aria-controls="collapseContact"></button>
		</div>
		<div id="collapseContact" class="collapse"
			aria-labelledby="headingOne" data-parent="#accordion">
			<div class="card-body">
				<table class="table table-sm" th:if="${contacts.size > 0}">
					<thead>
						<tr class="small">
							<th>Тип контакта</th>
							<th>Описание</th>
							<th>Содержимое контакта</th>
							<th>Вид источника данных</th>
							<th>Источник данных</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="contact : ${contacts}" class='small'>
							<td th:text="${contact.contactType}" />
							<td th:text="${contact.descr}" />
							<td th:text="${contact.contactText}" />
							<td th:text="${contact.dsourceType}" />
							<td
								th:text="${contact.dsource != null ? contact.dsource.title : contact.dsourceStr}" />
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
	<div class="card" th:fragment="Snils">
		<div class="card-header">
			<button
				th:text="${resultTypes.get(T(ru.tfoms.applgar.service.PersDataService.Show).Snils)}"
				class="btn btn-link" data-toggle="collapse"
				data-target="#collapseSnils" aria-expanded="false"
				aria-controls="collapseSnils"></button>
		</div>
		<div id="collapseSnils" class="collapse" aria-labelledby="headingOne"
			data-parent="#accordion">
			<div class="card-body">
				<table class="table table-sm" th:if="${snilses.size > 0}">
					<thead>
						<tr class="small">
							<th>СНИЛС</th>
							<th>Источник данных</th>
							<th>Вид источника данных</th>
							<th>Описание</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="snils : ${snilses}" class='small'>
							<td th:text="${snils.snils}" />
							<td
								th:text="${snils.dsource != null ? snils.dsource.title : snils.dsourceStr}" />
							<td th:text="${snils.dsourceType}" />
							<td th:text="${snils.descr}" />
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
	<div class="card" th:fragment="SocialStatus">
		<div class="card-header">
			<button
				th:text="${resultTypes.get(T(ru.tfoms.applgar.service.PersDataService.Show).SocialStatus)}"
				class="btn btn-link" data-toggle="collapse"
				data-target="#collapseSocialStatus" aria-expanded="false"
				aria-controls="collapseSocialStatus"></button>
		</div>
		<div id="collapseSocialStatus" class="collapse"
			aria-labelledby="headingOne" data-parent="#accordion">
			<div class="card-body">
				<table class="table table-sm" th:if="${statuses.size > 0}">
					<thead>
						<tr class="small">
							<th>Cтатус</th>
							<th>Вид источника данных</th>
							<th>Источник данных</th>
							<th>Описание</th>
							<th>Дата регистрации состояния</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="status : ${statuses}" class='small'>
							<td th:text="${status.socialStatus}" />
							<td th:text="${status.dsourceType}" />
							<td
								th:text="${status.dsource != null ? status.dsource.title : status.dsourceStr}" />
							<td th:text="${status.descr}" />
							<td th:text="${#dates.format(status.regDate, 'dd.MM.yyyy')}" />
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</body>
</html>